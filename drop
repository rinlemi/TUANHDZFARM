-- üì± Script Drop Tool (LocalScript)
local Players = game:GetService("Players")
local plr = Players.LocalPlayer

-- üõ†Ô∏è H√†m drop tool
local function dropTool()
    local char = plr.Character or plr.CharacterAdded:Wait()
    local hrp = char:FindFirstChild("HumanoidRootPart")
    if not hrp then return end

    local tool = char:FindFirstChildOfClass("Tool")
    if tool and tool:FindFirstChild("Handle") then
        tool.Parent = workspace
        tool.Handle.CFrame = hrp.CFrame * CFrame.new(0, 0, -3) -- th·∫£ tr∆∞·ªõc m·∫∑t
        warn("‚úÖ ƒê√£ drop tool:", tool.Name)
    else
        warn("‚ùå Kh√¥ng c√≥ tool n√†o ƒë·ªÉ drop.")
    end
end

-- üñºÔ∏è T·∫°o GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = plr:WaitForChild("PlayerGui")

local DropBtn = Instance.new("TextButton")
DropBtn.Parent = ScreenGui
DropBtn.Size = UDim2.new(0, 120, 0, 50)
DropBtn.Position = UDim2.new(1, -140, 1, -70) -- m·∫∑c ƒë·ªãnh g√≥c ph·∫£i d∆∞·ªõi
DropBtn.BackgroundColor3 = Color3.fromRGB(255, 100, 100)
DropBtn.TextColor3 = Color3.new(1,1,1)
DropBtn.Font = Enum.Font.SourceSansBold
DropBtn.TextSize = 22
DropBtn.Text = "DROP"

-- üì¶ L√†m cho di chuy·ªÉn ƒë∆∞·ª£c (drag)
local UIS = game:GetService("UserInputService")
local dragging, dragInput, dragStart, startPos

local function update(input)
    local delta = input.Position - dragStart
    DropBtn.Position = UDim2.new(
        startPos.X.Scale,
        startPos.X.Offset + delta.X,
        startPos.Y.Scale,
        startPos.Y.Offset + delta.Y
    )
end

DropBtn.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 
       or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = DropBtn.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

DropBtn.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement 
       or input.UserInputType == Enum.UserInputType.Touch then
        dragInput = input
    end
end)

UIS.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        update(input)
    end
end)

-- üéØ S·ª± ki·ªán khi b·∫•m n√∫t
DropBtn.MouseButton1Click:Connect(function()
    dropTool()
end)
